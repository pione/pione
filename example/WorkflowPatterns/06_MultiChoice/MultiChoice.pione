param $COND1 := true
param $COND2 := true

Rule Main
  output 'o1' or null
  output 'o2' or null
Flow
  rule Init
  rule A
  rule B
  rule C
End

Rule Init
  output 'i1'.touch
End

Rule A
  input 'i1'
  output 'p1' or null
  output 'p2' or null
Flow
  if $COND1
    rule A1
  end
  if $COND2
    rule A2
  end
End

Rule A1
  output 'p1'.touch
End

Rule A2
  output 'p2'.touch
End

Rule B
  input 'p1'
  output 'o1'.touch
End

Rule C
  input 'p2'
  output 'o2'.touch
End

