param $CASE := "A"

Rule Main
  output 'o1'
Flow
  rule Init
  rule A
  rule B
  rule C
End

Rule Init
  output 'i1' or 'i2'
Flow
  if $CASE == "A"
    rule Init1
  else
    rule Init2
  end
End

Rule Init1
  output 'i1'.touch
End

Rule Init2
  output 'i2'.touch
End

Rule A
  input 'i1'
  output 'p1'.touch
End

Rule B
  input 'i2'
  output 'p1'.touch
End

Rule C
  input 'p1'
  output 'o1'.touch
End

