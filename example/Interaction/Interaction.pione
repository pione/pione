.@ PackageName :: "Interaction"

Rule Main
  output 'output*.txt'.all
Flow
  rule Interaction
End

Rule Interaction
  output 'output*.txt'.all
Action
  # build public directory for pione-interactive
  mkdir public
  cp bin/* public
  cp file/* public
  cp file/.hidden-file.txt public

  # set environment variables for CGI
  export ENV_EXAMPLE1=a
  export ENV_EXAMPLE2=b
  export ENV_EXAMPLE3=c

  # start interactive operation
  pione-interactive browser --public public

  cp public/* .
End
